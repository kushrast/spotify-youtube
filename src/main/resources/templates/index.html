<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
  <title>Getting Started: Serving Web Content</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<p th:text="'Hello!'" />
<a href="/authenticate_spotify" id="authenticate">Authenticate Me!</a>
<a href="/sync" id="sync">Sync</a>
</body>
<script th:inline="javascript">

    var error = /*[[${error}]]*/ 'default';
    if (error != "" && error != null) {
      console.log("encountered error: " + error);
    };

    $( "#sync" ).hide();
    var refresh_token = Cookies.get("refresh_token");
    if (refresh_token != null && refresh_token != "") {
    	$( "#authenticate" ).hide();
    	$( "#sync" ).show();
    }
</script>
</html>