<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <title>Spotify Youtube Sync</title>
  </head>
  <body>  
    <div class="container h-100">
      <div class="row h-100 align-items-center">
        <div id="not_authenticated" class="offset-md-3 col-md-6 text-center">
          <h1 class="display-1 text-white">Welcome to Sync</h1>
          <p class="lead text-white">
            Sync lets you sync music playback between Spotify and YouTube. Play songs on Spotify and let Sync pull up their music videos on YouTube so you can enjoy Spotify's search UI and YouTube's visuals. To start, Authenticate with Spotify to let Sync fetch your current playback state from Spotify.
          </p>
          <a type="button" class="btn btn-light btn-lg" href="/authenticate_spotify" id="authenticate">Authenticate with Spotify</a>
        </div>
        <div id="authenticated">
          <div id="youTubePlayer"></div>
          <div class="row align-items-center">
            <div class="offset-md-4 col-md-4 text-center">
              <button id="sync" type="button" class="btn btn-light" >Start syncing</button>
              <span class="spinner-border spinner-border-sm" id="loading_circle"></span><span class="text-white h6" id="sync_timestamp">Last synced: Never</span>
            </div>
          </div>
          <nav class="navbar fixed-bottom  navbar-dark bg-dark">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-light">
                <input type="radio" name="options" id="light_mode"> Light Mode
              </label>
              <label class="btn btn-dark">
                <input type="radio" name="options" id="dark_mode"> Dark Mode
              </label>
            </div>
        </nav>
        </div>
      </div>
    </div>
  </body>

  <script th:inline="javascript">
    function checkErrors() {
      var error = [[${error}]];
      if (error != "" && error != null) {
        console.log("encountered error: " + error);
        alert(error);
      };
    }
    checkErrors();
  </script>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
  <script src="https://www.youtube.com/player_api"></script>
  <script th:src="@{/js/app.js}"></script>
</html>