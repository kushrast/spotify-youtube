<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <title>Spotify Youtube Sync</title>
  </head>
  <body>
    <div class="container w-100 h-100">
      <div class="row w-100 h-100 align-items-center">
        <div id="not_authenticated" class="offset-md-3 col-md-6 text-center">
          <h1 class="display-1 text-white">Welcome to Sync</h1>
          <p class="lead text-white">
            Sync lets you sync music playback between Spotify and YouTube. Play songs on Spotify and let Sync pull up their music videos on YouTube so you can enjoy Spotify's search UI and YouTube's visuals. To start, Authenticate with Spotify to let Sync fetch your current playback state from Spotify.
          </p>
          <a type="button" class="btn btn-light btn-lg" href="/authenticate_spotify" id="authenticate">Authenticate with Spotify</a>
        </div>
        <div id="authenticated" class="row">
          <div class="offset-md-5 col-md-2 text-center">
            <button id="sync" type="button" class="btn btn-outline-success">Start syncing</button>
          </div>
          <div id="youTubePlayer"></div>
        </div>
      </div>
    </div>
  </body>

  <script th:inline="javascript">
    function checkErrors() {
      var error = [[${error}]];
      if (error != "" && error != null) {
        console.log("encountered error: " + error);
        alert(error);
      };
    }
    checkErrors();
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
  <script src="https://www.youtube.com/player_api"></script>
  <script th:src="@{/js/app.js}"></script>
</html>